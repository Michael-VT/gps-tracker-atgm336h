# GPS Tracker ATGM336H üåç

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Web Serial API](https://img.shields.io/badge/Web-Serial_API-blue.svg)]()
[![Python 3.7+](https://img.shields.io/badge/Python-3.7+-green.svg)]()
[![Maps-Leaflet](https://img.shields.io/badge/Maps-Leaflet-green)]()

–ú–æ—â–Ω—ã–π GPS-—Ç—Ä–µ–∫–µ—Ä –¥–ª—è –º–æ–¥—É–ª—è **ATGM336H (GPS+BeiDou)** —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –Ω–∞ –∫–∞—Ä—Ç–∞—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –≤–µ–¥–µ–Ω–∏–µ–º –ª–æ–≥–æ–≤ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Web Serial API** (–¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è) –∏–ª–∏ **Python/WebSocket** (–¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞).

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| üó∫Ô∏è **–ö–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—è** | –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ **—Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** –Ω–∞ **OpenStreetMap** —Å –∫—Ä—É–≥–∞–º–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ (HDOP). |
| üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** | –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –∫–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–∞, HDOP, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø—É—Ç–Ω–∏–∫–æ–≤, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫. |
| üíæ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤ (`gps_trec_log_*.txt`, `gps_data_*.txt`). |
| ‚öôÔ∏è **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞, —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ (Baud Rate: 9600 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), —Ä–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. |
| üîç **NMEA** | –ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è NMEA —Å–æ–æ–±—â–µ–Ω–∏–π, –≤–∫–ª—é—á–∞—è GGA, RMC, GSA, GSV, TXT. |
| ‚è∞ **PPS** | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–º–ø—É–ª—å—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (Pulse-per-second). |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### A. –í–µ–±-–≤–µ—Ä—Å–∏—è (Web Serial API)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (Chrome/Edge 89+).**

1.  **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç**
    ```bash
    git clone [https://github.com/yourusername/gps-tracker-atgm336h.git](https://github.com/yourusername/gps-tracker-atgm336h.git)
    cd gps-tracker-atgm336h
    ```
2.  **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
    –û—Ç–∫—Ä–æ–π—Ç–µ `index.html` –≤ Chrome/Edge 89+ (–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Web Serial API –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏–ª–∏ HTTPS).
    ```bash
    python -m http.server 8000
    # –ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000
    ```
3.  **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –º–æ–¥—É–ª—å**
    –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Connect"** –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç.

### B. –í–µ—Ä—Å–∏—è —Å WebSocket (–î–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ / Firefox)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç `server.py` –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –∏—Ö —á–µ—Ä–µ–∑ WebSocket.

1.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
    ```bash
    pip install -r requirements.txt
    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: pip install flask flask-socketio pyserial pynmea2
    ```
2.  **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞**
    ```bash
    python server.py
    ```
    –°–µ—Ä–≤–µ—Ä –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ GPS-–º–æ–¥—É–ª—é –Ω–∞ –ø–æ—Ä—Ç–∞—Ö: `/dev/ttyUSB0`, `/dev/ttyUSB1`, `/dev/ttyACM0`, `/dev/ttyS0` (9600 –±–æ–¥).
3.  **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
    –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:5000` (`index_websocket.html`).

---

## üîå –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
* –ú–æ–¥—É–ª—å **ATGM336H GPS+BeiDou**.
* USB-UART –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å (CP2102, CH340, FT232).
* GPS –∞–Ω—Ç–µ–Ω–Ω–∞.
* –°–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–æ–¥–∞.

### –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
| ATGM336H | ‚Üí | USB-UART |
| :--- | :--- | :--- |
| **VCC** | ‚Üí | **3.3V/5V** |
| **GND** | ‚Üí | **GND** |
| **TX** | ‚Üí | **RX** |
| **RX** | ‚Üí | **TX** |
| **PPS** | ‚Üí | **(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) GPIO** |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
gps-tracker-atgm336h/
‚îú‚îÄ‚îÄ üìÑ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚îú‚îÄ‚îÄ üåê index.html             # –û—Å–Ω–æ–≤–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Web Serial API)
‚îú‚îÄ‚îÄ üåê templates/index_websocket.html # WebSocket –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ üêç server.py              # WebSocket —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ üêç gps_monitor.py         # Python –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ üìä gps_analyzer.py        # –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ ‚öôÔ∏è config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
‚îú‚îÄ‚îÄ üì¶ requirements.txt       # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ üìÑ LICENSE               # MIT –ª–∏—Ü–µ–Ω–∑–∏—è
‚îî‚îÄ‚îÄ üìÅ gps_logs/             # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ª–æ–≥–æ–≤ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
